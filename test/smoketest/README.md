# Smoketest of RLA server

For now, you'll need to install
[zerotest](https://github.com/jjyr/zerotest)
to run these tests, and/or generate new ones in the same way.

This is mainly tested with python3, but has been seen to work
on python2 also.

`pip install zerotest`

The current tests are based on cvr at
`test/e-1/arapahoe-regent-3-clear-CVR_Export.csv`
and the manifest at `test/e-1/arapahoe-manifest.csv`.

To run the smoketest, first cd to this directory.

Start up a fresh server, or reset its database to be empty.

Run `./main.py` to upload the cvr and manifest files.

Run `pytest server_test.py` to test some requests for information on the
cvr and manifest.

The `server_test.json` file has the raw data generated by the
`zerotest server` command, describing each request and the response.
